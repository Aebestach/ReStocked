// Patches applying art changes to crewed utility/science parts
// Contents:
// - PPD-10 Hitchhiker Storage Container (crewCabin)
// - Science Mobile Processing Lab MPL-LG-2 (Large_Crewed_Lab)

@PART[Large_Crewed_Lab]:HAS[~RestockIgnore[*]]:FOR[ReStock]
{
  @author = Chris Adderley
  !mesh = DELETE
  !MODEL,* {}
  MODEL
  {
    model = ReStock/Assets/Command/restock-lab-1
    position = 0.0, 0.0, 0.0
    scale = 1,1,1
    rotation = 0, 0, 0
  }
  MODEL
  {
    model = ReStock/Assets/Command/restock-crewed-endcap-1
    position = 0.0, -1.831, 0.0
    scale = 1,-1,1
    rotation = 0, 0, 0
  }
  MODEL
  {
    model = ReStock/Assets/Command/restock-crewed-endcap-1
    position = 0.0,1.825, 0.0
    scale = 1,1,1
    rotation = 0, 0, 0
  }

  @MODULE[ModuleColorChanger]
  {
      moduleID = hullLightColor
  }
  MODULE
  {
    name = ModuleRestockLinkedColorChanger
    parentModuleID = hullLightColor
    moduleID = fresnelLightColor
    shaderProperty = _TintColor
    animRate = 0.8
    animState = false
    useRate = false
    toggleInEditor = false
    toggleInFlight = false
    unfocusedRange = 5
    toggleAction = false
    redCurve
    {
      key = 0 0 0 3
      key = 1 1 0 0
    }
    greenCurve
    {
      key = 0 0 0 1
      key = 1 1 1 0
    }
    blueCurve
    {
      key = 0 0 0 0
      key = 1 0.7 1.5 0
    }
    alphaCurve
    {
      key = 0 1
    }
  }
}


// Hitchhiker
@PART[crewCabin]:HAS[~RestockIgnore[*]]:FOR[ReStock]
{
  @author = Chris Adderley
  !mesh = DELETE
  !MODEL,* {}
  MODEL
  {
    model = ReStock/Assets/Command/restock-hitchhiker-1
    position = 0.0, 0.0, 0.0
    scale = 1,1,1
    rotation = 0, 0, 0
  }
  MODEL
  {
    model = ReStock/Assets/Command/restock-crewed-endcap-1
    position = 0.0, -0.986899, 0.0
    scale = 1,-1,1
    rotation = 0, 0, 0
  }
  MODEL
  {
    model = ReStock/Assets/Command/restock-crewed-endcap-1
    position = 0.0,0.986899, 0.0
    scale = 1,1,1
    rotation = 0, 0, 0
  }

  @MODULE[ModuleColorChanger]
  {
      moduleID = hullLightColor
  }
  MODULE
  {
    name = ModuleRestockLinkedColorChanger
    parentModuleID = hullLightColor
    moduleID = fresnelLightColor
    shaderProperty = _TintColor
    animRate = 0.8
    animState = false
    useRate = false
    toggleInEditor = false
    toggleInFlight = false
    unfocusedRange = 5
    toggleAction = false
    redCurve
    {
      key = 0 0 0 3
      key = 1 1 0 0
    }
    greenCurve
    {
      key = 0 0 0 1
      key = 1 1 1 0
    }
    blueCurve
    {
      key = 0 0 0 0
      key = 1 0.7 1.5 0
    }
    alphaCurve
    {
      key = 0 1
    }
  }
}
