// Patches applying art changes to the Launch Escape System
// Contents:
// - Launch Escape System (LaunchEscapeSystem)



// Launch Escape System
@PART[LaunchEscapeSystem]
{
  @author = Andrew Cassidy
  !mesh = DELETE
  MODEL
  {
    model = ReStock/Assets/Engine/restock-engine-les-1
  }

  !sound_vent_medium = DELETE
  !sound_rocket_hard = DELETE
  !sound_vent_soft = DELETE
  !sound_explosion_low = DELETE

  !EFFECTS {}
  EFFECTS
  {
    engage
    {
      AUDIO
      {
        channel = Ship
        clip = sound_vent_medium
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    flameout
    {

      AUDIO
      {
        channel = Ship
        clip = sound_explosion_low
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    fx-les-running
    {
      AUDIO
      {
        channel = Ship
        clip = sound_rocket_hard
        volume = 0.0 0.0
        volume = 0.01 0.4
        volume = 1.0 1.0
        pitch = 0.0 0.2
        pitch = 0.01 0.6
        pitch = 1.0 1.8
        loop = true
      }
      MODEL_MULTI_PARTICLE
      {
        name = pitch
        modelName = ReStock/FX/restock-fx-srb-separator-1
        transformName = fxUpper
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.35
        speed = 1.0 1.0
      }
      MODEL_MULTI_PARTICLE
      {
        name = core
        modelName = ReStock/FX/restock-fx-srb-tiny-core-1
        transformName = fxLower
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.35
        speed = 1.0 1.0
      }
      PREFAB_PARTICLE
      {
        prefabName = fx_smokeTrail_light
        transformName = fxSmoke
        emission = 0.0 0.0
        emission = 0.05 0.0
        emission = 0.075 0.25
        emission = 1.0 1.25
        speed = 0.0 0.25
        speed = 1.0 1.0
        localOffset = 0, 0, 0
      }
    }
  }

  @MODULE[ModuleEnginesFX]
  {
    %runningEffectName = fx-les-running
  }

  MODULE
  {
    name = ModulePartVariants
    baseVariant = Long
    VARIANT
    {
      name = Long
      displayName = #LOC_Restock_variant-telescope_shielded
      themeName = White
      primaryColor = #ffffff
      secondaryColor = #202020
      GAMEOBJECTS
      {
        lower_long_COLLIDER = true
        lower_short_COLLIDER = false
      }
      NODES
      {
        node_stack_bottom = 0.0, -1.372544, 0.0, 0.0, -1.0, 0.0, 1
      }
    }

    VARIANT
    {
      name = Short
      displayName = #LOC_Restock_variant-telescope_bare
      themeName = White
      primaryColor = #707070
      secondaryColor = #202020
      GAMEOBJECTS
      {
        lower_long_COLLIDER = false
        lower_short_COLLIDER = true
      }
      NODES
      {
        node_stack_bottom = 0.0, -1.1476, 0.0, 0.0, -1.0, 0.0, 1
      }
    }
  }
}
