// Patches applying art changes to 2.5m engines
// Contents:
// - LFB KR-1x2 "Twin-Boar" Liquid Fuel Engine (Size2LFB)
// -
// Twin Boar
@PART[Size2LFB]
{
  @author = Chris Adderley

  !mesh = DELETE
  !MODEL = {}
  MODEL {
    model = ReStock/Assets/Engine/restock-engine-twinboar-1
  }
  MODEL {
    model = ReStock/Assets/FuelTank/restock-endcap-fueltank-25-orange
    position = 0.0, 4.356, 0.0
    scale = 1,1,1
    rotation = 0, 0, 0
  }
  !EFFECTS {}
  EFFECTS
	{
		engage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_vent_soft
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
		flameout
		{
			PREFAB_PARTICLE
			{
				prefabName = fx_exhaustSparks_flameout_2
				transformName = smokePoint
				oneShot = true
			}
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
		fx-twinboar-running
		{
			AUDIO
			{
				  channel = Ship
				  clip = sound_rocket_hard
				  volume = 0.0 0.0
				  volume = 1.0 1.0
				  pitch = 0.0 0.2
				  pitch = 1.0 1.0
				  loop = true
			}
			MODEL_MULTI_PARTICLE
			{
        name = core
				modelName = ReStock/FX/restock-fx-boar-core-1
				transformName = fxTransformCore
				emission = 0.0 0.0
				emission = 0.01 0.1
				emission = 0.075 0.25
				emission = 1.0 1.0
				speed = 0.0 0.35
				speed = 1.0 1.0
			}
			MODEL_MULTI_PARTICLE
			{
        name = plume
				modelName = ReStock/FX/restock-fx-boar-plume-1
				transformName = fxTransformPlume
				emission = 0.0 0.0
				emission = 0.01 0.1
				emission = 0.075 0.25
				emission = 1.0 1.0
				speed = 0.0 0.35
				speed = 1.0 1.0
			}
      MODEL_MULTI_PARTICLE
			{
        name = turbo
				modelName = ReStock/FX/restock-fx-boar-turbo-1
				transformName = fxTransformTurbo
				emission = 0.0 0.0
				emission = 0.01 0.1
				emission = 0.075 0.25
				emission = 1.0 1.0
				speed = 0.0 0.35
				speed = 1.0 1.0
			}
		}
	}

	@MODULE[ModuleGimbal]
	{
		@gimbalTransformName = B_Gimbal
	}
  @MODULE[ModuleEnginesFX]
  {
	  @runningEffectName = fx-twinboar-running
  }
	MODULE
	{
		name = FXModuleLookAtConstraint

		// Basic
		CONSTRAINLOOKFX
		{
			targetName = CylTop005
			rotatorsName = CylBot005
		}
		CONSTRAINLOOKFX
		{
			targetName = CylTop006
			rotatorsName = CylBot006
		}
		CONSTRAINLOOKFX
		{
			targetName = CylTop007
			rotatorsName = CylBot007
		}
		CONSTRAINLOOKFX
		{
			targetName = CylTop008
			rotatorsName = CylBot008
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot005
			rotatorsName =CylTop005
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot006
			rotatorsName = CylTop006
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot007
			rotatorsName = CylTop007
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot008
			rotatorsName = CylTop008
		}


	}
  !MODULE[FXModuleAnimateThrottle] {}
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = heatColor
    responseSpeed = 0.005
    dependOnEngineState = True
    dependOnThrottle = True
  }
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = throttleColor
    responseSpeed = 1.0
    dependOnEngineState = True
    dependOnThrottle = True
  }

  MODULE
  {
    name = ModuleColorChanger
    moduleID = heatColor
    animRate = 0.05
    shaderProperty = _EmissiveColor
    excludedRenderers = EngineCore
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 0
      key = 1 1
    }
    greenCurve
    {
      key = 0 0
      key = 1 1
    }
    blueCurve
    {
      key = 0 0
      key = 1 1
    }
    alphaCurve
    {
      key = 0 0
      key = 1 1
    }
  }
  MODULE
  {
    name = ModuleColorChanger
    moduleID = throttleColor
    animRate = 1
    shaderProperty = _EmissiveColor
    includedRenderers = EngineCore
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 0
      key = 1 1
    }
    greenCurve
    {
      key = 0 0
      key = 1 1
    }
    blueCurve
    {
      key = 0 0
      key = 1 1
    }
    alphaCurve
    {
      key = 0 0
      key = 1 1
    }
  }


}
