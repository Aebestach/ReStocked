// Patches applying art changes to 0.625m engines
// Contents:
// - LV-1 "Ant" Liquid Fuel Engine (microEngine)
// - LV-1R "Spider" Liquid Fuel Engine (radialEngineMini)
// - 48-7S "Spark" Liquid Fuel Engine (liquidEngineMini)
// - 24-77 "Twitch" Liquid Fuel Engine (smallRadialEngine)
// - O-10 "Puff" MonoPropellant Fuel Engine (omsEngine)

// Ant
@PART[microEngine]
{
  @author = Chris Adderley

  !mesh = DELETE
  !MODEL = {}
  MODEL {
    model = ReStock/Assets/Engine/restock-engine-ant-1
  }
  !EFFECTS {}
  EFFECTS
	{
  }
  @MODULE[ModuleEnginesFX]
  {
	  @runningEffectName = fx-ant-running
  }
  !MODULE[FXModuleAnimateThrottle] {}
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = heatColor
    responseSpeed = 0.005
    dependOnEngineState = True
    dependOnThrottle = True
  }
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = throttleColor
    responseSpeed = 1.0
    dependOnEngineState = True
    dependOnThrottle = True
  }

  MODULE
  {
    name = ModuleColorChanger
    moduleID = heatColor
    animRate = 0.05
    shaderProperty = _EmissiveColor
    excludedRenderers = EngineCore
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 1
      key = 1 1
    }
    greenCurve
    {
      key = 0
      key = 1 1
    }
    blueCurve
    {
      key = 0 0
      key = 1 0
    }
    alphaCurve
    {
      key = 0 0
      key = 1 1
    }
  }
  MODULE
  {
    name = ModuleColorChanger
    moduleID = throttleColor
    animRate = 1
    shaderProperty = _EmissiveColor
    includedRenderers = EngineCore
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 1
      key = 1 1
    }
    greenCurve
    {
      key = 0 0
      key = 1 1
    }
    blueCurve
    {
      key = 0 0
      key = 1 0
    }
    alphaCurve
    {
      key = 0 0
      key = 1 1
    }
  }
}

// Spider
@PART[radialEngineMini]
{
  @author = Chris Adderley

  !mesh = DELETE
  !MODEL = {}
  MODEL {
    model = ReStock/Assets/Engine/restock-engine-spider-1
  }
  !EFFECTS {}
  EFFECTS
	{
  }
  @MODULE[ModuleEnginesFX]
  {
	  @runningEffectName = fx-spider-running
  }
  MODULE
	{
		name = FXModuleLookAtConstraint
		CONSTRAINLOOKFX
		{
			targetName = CylBot017
			rotatorsName = CylTop017
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot018
			rotatorsName = CylTop018
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot019
			rotatorsName = CylTop019
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot020
			rotatorsName = CylTop020
		}
	}
  !MODULE[FXModuleAnimateThrottle] {}
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = heatColor
    responseSpeed = 0.005
    dependOnEngineState = True
    dependOnThrottle = True
  }
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = throttleColor
    responseSpeed = 1.0
    dependOnEngineState = True
    dependOnThrottle = True
  }

  MODULE
  {
    name = ModuleColorChanger
    moduleID = heatColor
    animRate = 0.05
    shaderProperty = _EmissiveColor
    excludedRenderers = EngineCore
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 1
      key = 1 1
    }
    greenCurve
    {
      key = 0
      key = 1 1
    }
    blueCurve
    {
      key = 0 0
      key = 1 0
    }
    alphaCurve
    {
      key = 0 0
      key = 1 1
    }
  }
  MODULE
  {
    name = ModuleColorChanger
    moduleID = throttleColor
    animRate = 1
    shaderProperty = _EmissiveColor
    includedRenderers = EngineCore
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 1
      key = 1 1
    }
    greenCurve
    {
      key = 0 0
      key = 1 1
    }
    blueCurve
    {
      key = 0 0
      key = 1 0
    }
    alphaCurve
    {
      key = 0 0
      key = 1 1
    }
  }
}

// Spark
@PART[liquidEngineMini]
{
  @author = Chris Adderley

  !mesh = DELETE
  !MODEL = {}
  MODEL {
    model = ReStock/Assets/Engine/restock-engine-spark-1
  }
  !EFFECTS {}
  EFFECTS
	{
  }
  MODULE
	{
		name = FXModuleLookAtConstraint

		// Ringed
		CONSTRAINLOOKFX
		{
			targetName = CylBot017
			rotatorsName = CylTop017
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot018
			rotatorsName = CylTop018
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot019
			rotatorsName = CylTop019
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot020
			rotatorsName = CylTop020
		}
		CONSTRAINLOOKFX
		{
			targetName = CylTop017
			rotatorsName = CylBot017
		}
		CONSTRAINLOOKFX
		{
			targetName = CylTop018
			rotatorsName = CylBot018
		}
		CONSTRAINLOOKFX
		{
			targetName = CylTop019
			rotatorsName = CylBot019
		}
		CONSTRAINLOOKFX
		{
			targetName = CylTop020
			rotatorsName = CylBot020
		}
	}
  MODULE
	{
		name = ModulePartVariants
		baseVariant = Size0
		VARIANT
		{
			name = Size0
			displayName = #LOC_Restock_variant-engine_size0
      primaryColor = #ffffff
			secondaryColor = #000000
			GAMEOBJECTS
			{
				Var_25 = false
				Var_25_Boat = false
				Var_125 = true
				Var_Compact = false
				Var_UpperGimbals = false
				Var_LowerGimbals = false
				Fairing125 = true
				Fairing25 = false
				Fairing25_Boat = false
			}
		}
    VARIANT
		{
			name = Boattail
			displayName = #LOC_Restock_variant-engine_boattail
      primaryColor = #ffffff
			secondaryColor = #000000
			GAMEOBJECTS
			{
				Var_25 = false
				Var_25_Boat = true
				Var_125 = false
				Var_Compact = false
				Var_UpperGimbals = true
				Var_LowerGimbals = true
				Fairing125 = false
				Fairing25 = false
				Fairing25_Boat = true
			}

		}
    VARIANT
		{
			name = Compact
			displayName = #LOC_Restock_variant-engine_compact
      primaryColor = #ffffff
			secondaryColor = #000000
			GAMEOBJECTS
			{
				Var_25 = false
				Var_25_Boat = false
				Var_125 = false
				Var_Compact = true
				Var_UpperGimbals = true
				Var_LowerGimbals = true
				Fairing125 = false
				Fairing25 = false
				Fairing25_Boat = false
			}
		}
	}
  @MODULE[ModuleEnginesFX]
  {
	  @runningEffectName = fx-spark-running
  }
  !MODULE[FXModuleAnimateThrottle] {}
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = heatColor
    responseSpeed = 0.005
    dependOnEngineState = True
    dependOnThrottle = True
  }
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = throttleColor
    responseSpeed = 1.0
    dependOnEngineState = True
    dependOnThrottle = True
  }

  MODULE
  {
    name = ModuleColorChanger
    moduleID = heatColor
    animRate = 0.05
    shaderProperty = _EmissiveColor
    excludedRenderers = EngineCore
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 1
      key = 1 1
    }
    greenCurve
    {
      key = 0
      key = 1 1
    }
    blueCurve
    {
      key = 0 0
      key = 1 0
    }
    alphaCurve
    {
      key = 0 0
      key = 1 1
    }
  }
  MODULE
  {
    name = ModuleColorChanger
    moduleID = throttleColor
    animRate = 1
    shaderProperty = _EmissiveColor
    includedRenderers = EngineCore
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 1
      key = 1 1
    }
    greenCurve
    {
      key = 0 0
      key = 1 1
    }
    blueCurve
    {
      key = 0 0
      key = 1 0
    }
    alphaCurve
    {
      key = 0 0
      key = 1 1
    }
  }
}

// Twitch
@PART[smallRadialEngine]
{
  @author = Chris Adderley

  !mesh = DELETE
  !MODEL = {}
  MODEL {
    model = ReStock/Assets/Engine/restock-engine-twitch-1
  }
  !EFFECTS {}
  EFFECTS
	{
  }
  MODULE
	{
		name = FXModuleLookAtConstraint

		// Ringed
		CONSTRAINLOOKFX
		{
			targetName = CylBot017
			rotatorsName = CylTop017
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot018
			rotatorsName = CylTop018
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot019
			rotatorsName = CylTop019
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot020
			rotatorsName = CylTop020
		}
	}
  @MODULE[ModuleEnginesFX]
  {
	  @runningEffectName = fx-twitch-running
  }
  !MODULE[FXModuleAnimateThrottle] {}
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = heatColor
    responseSpeed = 0.005
    dependOnEngineState = True
    dependOnThrottle = True
  }
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = throttleColor
    responseSpeed = 1.0
    dependOnEngineState = True
    dependOnThrottle = True
  }

  MODULE
  {
    name = ModuleColorChanger
    moduleID = heatColor
    animRate = 0.05
    shaderProperty = _EmissiveColor
    excludedRenderers = EngineCore
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 1
      key = 1 1
    }
    greenCurve
    {
      key = 0
      key = 1 1
    }
    blueCurve
    {
      key = 0 0
      key = 1 0
    }
    alphaCurve
    {
      key = 0 0
      key = 1 1
    }
  }
  MODULE
  {
    name = ModuleColorChanger
    moduleID = throttleColor
    animRate = 1
    shaderProperty = _EmissiveColor
    includedRenderers = EngineCore
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 1
      key = 1 1
    }
    greenCurve
    {
      key = 0 0
      key = 1 1
    }
    blueCurve
    {
      key = 0 0
      key = 1 0
    }
    alphaCurve
    {
      key = 0 0
      key = 1 1
    }
  }
}

// Puff
@PART[omsEngine]
{
  @author = Chris Adderley

  !mesh = DELETE
  !MODEL = {}
  MODEL {
    model = ReStock/Assets/Engine/restock-engine-puff-1
  }
  !EFFECTS {}
  EFFECTS
	{
  }
  MODULE
	{
		name = ModulePartVariants
		baseVariant = Size0
		VARIANT
		{
			name = Radial
			displayName = #LOC_Restock_variant-engine_radial
      primaryColor = #ffffff
			secondaryColor = #000000
			GAMEOBJECTS
			{
				Var_25 = false
				Var_25_Boat = false
				Var_125 = true
				Var_Compact = false
				Var_UpperGimbals = false
				Var_LowerGimbals = false
				Fairing125 = true
				Fairing25 = false
				Fairing25_Boat = false
			}
		}
    VARIANT
		{
			name = Size0
			displayName = #LOC_Restock_variant-engine_size0
      primaryColor = #ffffff
			secondaryColor = #000000
			GAMEOBJECTS
			{
				Var_25 = false
				Var_25_Boat = true
				Var_125 = false
				Var_Compact = false
				Var_UpperGimbals = true
				Var_LowerGimbals = true
				Fairing125 = false
				Fairing25 = false
				Fairing25_Boat = true
			}
		}
	}
  MODULE
	{
		name = FXModuleLookAtConstraint

		// Ringed
		CONSTRAINLOOKFX
		{
			targetName = CylBot017
			rotatorsName = CylTop017
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot018
			rotatorsName = CylTop018
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot019
			rotatorsName = CylTop019
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot020
			rotatorsName = CylTop020
		}
		CONSTRAINLOOKFX
		{
			targetName = CylTop017
			rotatorsName = CylBot017
		}
		CONSTRAINLOOKFX
		{
			targetName = CylTop018
			rotatorsName = CylBot018
		}
		CONSTRAINLOOKFX
		{
			targetName = CylTop019
			rotatorsName = CylBot019
		}
		CONSTRAINLOOKFX
		{
			targetName = CylTop020
			rotatorsName = CylBot020
		}
	}
  @MODULE[ModuleEnginesFX]
  {
	  @runningEffectName = fx-puff-running
  }

  !MODULE[FXModuleAnimateThrottle] {}
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = heatColor
    responseSpeed = 0.005
    dependOnEngineState = True
    dependOnThrottle = True
  }
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = throttleColor
    responseSpeed = 1.0
    dependOnEngineState = True
    dependOnThrottle = True
  }

  MODULE
  {
    name = ModuleColorChanger
    moduleID = heatColor
    animRate = 0.05
    shaderProperty = _EmissiveColor
    excludedRenderers = EngineCore
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 1
      key = 1 1
    }
    greenCurve
    {
      key = 0
      key = 1 1
    }
    blueCurve
    {
      key = 0 0
      key = 1 0
    }
    alphaCurve
    {
      key = 0 0
      key = 1 1
    }
  }
  MODULE
  {
    name = ModuleColorChanger
    moduleID = throttleColor
    animRate = 1
    shaderProperty = _EmissiveColor
    includedRenderers = EngineCore
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 1
      key = 1 1
    }
    greenCurve
    {
      key = 0 0
      key = 1 1
    }
    blueCurve
    {
      key = 0 0
      key = 1 0
    }
    alphaCurve
    {
      key = 0 0
      key = 1 1
    }
  }
}
