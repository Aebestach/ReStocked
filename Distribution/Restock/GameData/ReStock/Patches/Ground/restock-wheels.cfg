// Patches applying art changes to wheels
// Contents:


// LT-2 Landing Strut
+PART[roverWheel1]:HAS[~RestockIgnore[*]]:FOR[ReStock]
{
  @author = Andrew Cassidy
  @name = restock-wheel-2

  !mesh = DELETE
  MODEL
  {
    model = ReStock/Assets/Ground/restock-wheel-2
  }

  @MODULE[ModuleWheelSuspension] {
    @suspensionTransformName = SuspensionPivot
  }

  @MODULE[ModuleWheelSteering] {
    @steeringTransformName = SteeringPivot
  }

  @MODULE[ModuleWheelDamage] {
    @damagedTransformName = WheelBusted
    @undamagedTransformName = Wheel
  }

  !MODULE[FXModuleLookAtConstraint]

  MODULE
  {
    name = FXModuleLookAtConstraint

    CONSTRAINLOOKFX
    {
      rotatorsName = Link1
      targetName = Link1Target
    }

    CONSTRAINLOOKFX
    {
      rotatorsName = Link2
      targetName = Link2Target
    }
  }

  MODULE
  {
    name = FXModuleConstrainPosition

    matchRotation = true
    matchPosition = false

    CONSTRAINFX
    {
      moversName = LowerBracket
      targetName = Base
    }

    CONSTRAINFX
    {
      moversName = SteeringPivotFollower
      targetName = SteeringPivot
    }

    CONSTRAINFX
    {
      moversName = WheelPivotFollower 
      targetName = WheelPivot
    }
  }

  MODULE
  {
    name = FXModuleLookAtConstraint

    CONSTRAINLOOKFX
    {
      rotatorsName = ShockCylinder
      targetName = ShockPiston
    }

    CONSTRAINLOOKFX
    {
      rotatorsName = ShockPiston
      targetName = ShockCylinder
    }

    CONSTRAINLOOKFX
    {
      rotatorsName = SteeringPiston1
      targetName = SteeringCylinder1
    }

    CONSTRAINLOOKFX
    {
      rotatorsName = SteeringCylinder1
      targetName = SteeringPiston1
    }

    CONSTRAINLOOKFX
    {
      rotatorsName = SteeringPiston2
      targetName = SteeringCylinder2
    }

    CONSTRAINLOOKFX
    {
      rotatorsName = SteeringCylinder2
      targetName = SteeringPiston2
    }
  }
}
