// Patches applying art changes to the Making History rover wheel
// Contents:
// - RoveMax M1-F Rover Wheel (roverWheelM1-F)

// RoveMax M1-F Rover Wheel
@PART[roverWheelM1-F]:HAS[~RestockIgnore[*]]:FOR[ReStock]
{
  @author = Andrew Cassidy

  !MODEL {}
  MODEL
  {
    model = ReStock/Assets/Ground/restock-wheel-4
  }

  @MODULE[ModuleWheelSuspension] {
    @suspensionTransformName = SuspensionPivot
  }

  @MODULE[ModuleWheelSteering] {
    @steeringTransformName = SteeringPivot
  }

  @MODULE[ModuleWheelDamage] {
    @damagedTransformName = WheelBusted
    @undamagedTransformName = Wheel
  }

  @MODULE[ModuleWheelDeployment] {
    @animationTrfName = restock-wheel-4
    @animationStateName = restock-wheel-4-deploy

  }

  !MODULE[ModulePartVariants] {}

  MODULE
  {
    name = ModulePartVariants
    baseVariant = Orange
    VARIANT
    {
      name = Orange
      displayName = #autoLOC_8007100 // Orange
      themeName = Orange
      primaryColor = #74402B
      secondaryColor = #707070
      GAMEOBJECTS
      {
        Fender_orange = true
        Fender_grey = false
        Fender_cernan = false
      }
    }

    VARIANT
    {
      name = Grey
      displayName = #autoLOC_8007119 // White
      themeName = White
      primaryColor = #ffffff
      secondaryColor = #707070
      GAMEOBJECTS
      {
        Fender_orange = false
        Fender_grey = true
        Fender_cernan = false
      }
    }

    VARIANT
    {
      name = Cernan
      displayName = #LOC_Restock_variant-wheel_broken // Broken
      themeName = Orange
      primaryColor = #74402B
      secondaryColor = #A0A0A0
      GAMEOBJECTS
      {
        Fender_orange = false
        Fender_grey = false
        Fender_cernan = true
      }
    }

    VARIANT
    {
      name = Bare
      displayName = #LOC_Restock_variant-wheel_bare //Bare
      themeName = White
      primaryColor = #707070
      secondaryColor = #707070
      GAMEOBJECTS
      {
        Fender_orange = false
        Fender_grey = false
        Fender_cernan = false
      }
    }
  }

  !MODULE[FXModuleLookAtConstraint] {}

  MODULE
  {
    name = ModuleAdvancedLookAtConstraint

    CONSTRAINLOOKFX
    {
      rotatorsName = Link1
      targetName = Link1Target
    }

    CONSTRAINLOOKFX
    {
      rotatorsName = Link2
      targetName = Link2Target
    }

    CONSTRAINLOOKFX
    {
      rotatorsName = SuspensionPiston
      targetName = SuspensionPistonTarget
    }

    CONSTRAINLOOKFX
    {
      rotatorsName = SuspensionCylinder
      targetName = SuspensionCylinderTarget
    }
  }

  MODULE
  {
    name = FXModuleConstrainPosition

    matchRotation = true
    matchPosition = false

    CONSTRAINFX
    {
      moversName = LowerBracket
      targetName = UpperBracket
    }

    CONSTRAINFX
    {
      moversName = SteeringPivotFollower
      targetName = SteeringPivot
    }
  }

  MODULE
  {
    name = FXModuleConstrainPosition

    matchRotation = false
    matchPosition = true

    CONSTRAINFX
    {
      moversName = WheelMesh
      targetName = WheelPivotFollower
    }

    CONSTRAINFX
    {
      moversName = WheelMeshBusted
      targetName = WheelPivotFollower
    }
  }
}